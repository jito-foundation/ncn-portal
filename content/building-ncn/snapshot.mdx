# Snapshot

Determines the current status of all active NCNs and Vaults, and condenses the stake weight they each have for the current epoch in one account per operator.

## Epoch Snapshot

| Field                           | Type        | Description                                                |
| ------------------------------- | ----------- | ---------------------------------------------------------- |
| ncn                             | Pubkey      | NCN account pubkey.                                        |
| ncn_epoch                       | u64         | The NCN epoch for which the Epoch snapshot is valid.       |
| slot_created                    | u64         | The slot that epoch snapshot is created.                   |
| slot_finalized                  | u64         | The slot that epoch snapshot is finalized.                 |
| ncn_fees                        | u64         | The fees of NCN.                                           |
| operator_count                  | u64         | The count of operator in this epoch.                       |
| vault_count                     | u64         | The count of vault in this epoch.                          |
| operators_registered            | u64         | The count of operator that registered in this epoch.       |
| valid_operator_vault_delegation | u64         | The count of operator delegation is registered.            |
| stake_weight                    | u128        | Counted as each delegate gets added.                       |


## Operator Snapshot

### OperatorSnapshot

| Field                                 | Type                           | Description                                                |
| ------------------------------------- | ------------------------------ | ---------------------------------------------------------- |
| operator                              | Pubkey                         | NCN account pubkey.                                        |
| ncn                                   | Pubkey                         | The NCN epoch for which the Epoch snapshot is valid.       |
| ncn_epoch                             | u64                            | The NCN epoch for which the Epoch snapshot is valid.       |
| slot_created                          | u64                            | The slot that epoch snapshot is created.                   |
| slot_finalized                        | u64                            | The slot that epoch snapshot is finalized.                 |
| is_active                             | bool                           | The fees of NCN.                                           |
| ncn_operator_index                    | u64                            | The count of operator in this epoch.                       |
| operator_index                        | u16                            | The count of vault in this epoch.                          |
| operator_fee_bps                      | u64                            | The count of operator that registered in this epoch.       |
| vault_operator_delegation_count       | u64                            | The count of operator delegation.                          |
| vault_operator_delegations_registered | u64                            | The count of operator delegation is registered.            |
| valid_operator_vault_delegations      | u64                            | Valid operator delegation.                                 |
| stake_weight                          | u128                           | The stake weight of the operator.                          |
| vault_operator_stake_weight           | [VaultOperatorStakeWeight; 32] | The vault operator stake weight.                        |


### VaultOperatorStakeWeight

| Field                                 | Type                           | Description                                                |
| ------------------------------------- | ------------------------------ | ---------------------------------------------------------- |
| vault                                 | Pubkey                         | Vault account pubkey.                                      |
| stake_weight                          | u128                           | The stake weight of this operator associated with vault.   |
| vault_index                           | u64                            | The index of vault.                                        |